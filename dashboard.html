<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Dashboard Siswa - Ujian Online</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <header>
    <div class="container header-inner">
      <a href="index.html" class="brand">Ujian Online</a>
      <nav>
        <a href="account.html">Akun</a>
        <a href="#" id="logoutBtn">Logout</a>
      </nav>
    </div>
  </header>  <main class="container">
    <section class="card">
      <h1>Aturan Pelaksanaan Ujian</h1>
      <ul>
        <li>Pastikan koneksi Anda stabil sebelum mulai.</li>
        <li>Jawaban tersimpan otomatis setiap kali Anda berpindah soal.</li>
        <li>Anda bebas berpindah antar soal sebelum menekan tombol Selesai.</li>
        <li>Tidak ada batas waktu otomatis.</li>
        <li>Setelah selesai, hasil menampilkan skor dan penjelasan tiap soal.</li>
      </ul>
    </section><section class="card">
  <h2>Ujian yang Tersedia</h2>
  <div id="examSection">
    <p id="examStatus">Memuat status ujian...</p>
    <button id="startExamBtn" class="btn" style="display:none">Mulai Ujian</button>
  </div>
</section>

  </main>  <footer>
    <div class="container footer-inner">
      <small>Â© 2025 Ujian Online</small>
    </div>
  </footer>  <script src="utils.js"></script>  <script src="storage.js"></script>  <script src="auth.js"></script>  <script>
    async function initDashboard() {
      const user = await getCurrentUser();
      if (!user) {
        window.location.href = 'login.html';
        return;
      }

      const examConfig = await readJSON('exam-config.json');
      const examStatus = document.getElementById('examStatus');
      const startBtn = document.getElementById('startExamBtn');

      if (examConfig && examConfig.published) {
        examStatus.textContent = 'Ujian tersedia. Siap untuk dimulai.';
        startBtn.style.display = 'inline-block';
        startBtn.onclick = () => window.location.href = 'exam.html';
      } else {
        examStatus.textContent = 'Belum ada ujian yang dipublikasikan.';
      }
    }

    document.getElementById('logoutBtn').addEventListener('click', () => {
      logoutUser();
      window.location.href = 'login.html';
    });

    initDashboard();
  </script></body>
  </html>
